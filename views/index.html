<html lang="">
<head>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <title></title>
</head>

<body>
<h3>WebSocket Go</h3>
<pre id="output"></pre>

<script>
    url = 'ws://localhost:8080/users/chats/ws/7a476769-d7b7-401e-8290-f5114574b199';
    c = new WebSocket(url);

    send = function (data) {
        $("#output").append((new Date()) + " ==> " + data + "\n")
        c.send(data)
    }
    c.onmessage = function (msg) {
        n = JSON.parse(msg.data)

        $("#output").append((new Date()) + " <== " + msg.data + "\n")
        if (n.type == 1) {
            send(JSON.stringify({type: 1, message_data: "pong"}))
        }
        console.log(msg)
    }

</script>

</body>
</html>